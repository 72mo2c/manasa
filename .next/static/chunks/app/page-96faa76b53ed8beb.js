(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3813:function(e,t,s){Promise.resolve().then(s.bind(s,7548)),Promise.resolve().then(s.bind(s,7883))},7548:function(e,t,s){"use strict";s.r(t);var a=s(7437),l=s(2265),i=s(6691),r=s.n(i),n=s(1396),c=s.n(n),o=s(7810),d=s(9670),x=s(6142),m=s(5340),u=s(2505),h=s(6198),p=s(6141),f=s(3505),g=s(732);t.default=e=>{let{product:t,className:s="",showQuickView:i=!0,showCompare:n=!1,layout:v="grid"}=e,[b,j]=(0,l.useState)(!1),[N,w]=(0,l.useState)(!1),[y,k]=(0,l.useState)(0),[P,C]=(0,l.useState)(!0),Z=t.originalPrice?Math.round((t.originalPrice-t.price)/t.originalPrice*100):0,handleImageHover=e=>{t.images.length>1&&k(e)},handleAddToCart=e=>{e.preventDefault(),e.stopPropagation(),console.log("Add to cart:",t.id)},handleLike=e=>{e.preventDefault(),e.stopPropagation(),j(!b)},formatPrice=e=>new Intl.NumberFormat("ar"===t.locale?"ar-EG":"en-US",{minimumFractionDigits:0,maximumFractionDigits:0}).format(e);return"list"===v?(0,a.jsx)(g.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-4},className:"card ".concat(s),onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),children:(0,a.jsx)(c(),{href:"/".concat(t.locale,"/products/").concat(t.id),className:"block",children:(0,a.jsxs)("div",{className:"flex gap-6",children:[(0,a.jsx)("div",{className:"relative w-48 h-48 flex-shrink-0",children:(0,a.jsxs)("div",{className:"aspect-square bg-neutral-200 rounded-soft overflow-hidden",children:[(0,a.jsx)(r(),{src:t.images[y],alt:t.name,fill:!0,className:"object-cover transition-transform duration-300 hover:scale-105",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",onLoad:()=>C(!1)}),(0,a.jsxs)("div",{className:"absolute top-3 left-3 flex flex-col gap-2",children:[t.isNew&&(0,a.jsx)("span",{className:"bg-primary-400 text-white px-2 py-1 rounded-full text-xs font-medium",children:"جديد"}),t.isFeatured&&(0,a.jsx)("span",{className:"bg-secondary-400 text-white px-2 py-1 rounded-full text-xs font-medium",children:"مميز"}),t.isBestseller&&(0,a.jsx)("span",{className:"bg-yellow-500 text-white px-2 py-1 rounded-full text-xs font-medium",children:"الأكثر مبيعاً"}),Z>0&&(0,a.jsxs)("span",{className:"bg-red-500 text-white px-2 py-1 rounded-full text-xs font-medium",children:["-",Z,"%"]})]}),t.images.length>1&&(0,a.jsx)("div",{className:"absolute bottom-3 left-1/2 transform -translate-x-1/2 flex gap-1",children:t.images.slice(0,3).map((e,t)=>(0,a.jsx)("button",{onMouseEnter:()=>handleImageHover(t),className:"w-2 h-2 rounded-full transition-colors ".concat(t===y?"bg-white":"bg-white/50")},t))}),(0,a.jsxs)("div",{className:"absolute top-3 right-3 flex flex-col gap-2 transition-opacity duration-300 ".concat(N?"opacity-100":"opacity-0"),children:[(0,a.jsx)("button",{onClick:handleLike,className:"p-2 rounded-full transition-all ".concat(b?"bg-red-500 text-white":"bg-white/90 text-neutral-600 hover:bg-red-500 hover:text-white"),children:(0,a.jsx)(o.Z,{className:"w-4 h-4 ".concat(b?"fill-current":"")})}),i&&(0,a.jsx)("button",{className:"p-2 bg-white/90 text-neutral-600 hover:bg-primary-400 hover:text-white rounded-full transition-all",children:(0,a.jsx)(d.Z,{className:"w-4 h-4"})})]})]})}),(0,a.jsxs)("div",{className:"flex-1 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsx)("h3",{className:"text-xl font-heading font-semibold text-neutral-800 line-clamp-2",children:t.name}),(0,a.jsx)("div",{className:"flex flex-col items-end",children:(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("span",{className:"text-2xl font-bold text-primary-800",children:[formatPrice(t.price)," ",t.currency]}),t.originalPrice&&(0,a.jsxs)("span",{className:"text-sm text-neutral-400 line-through mr-2",children:[formatPrice(t.originalPrice)," ",t.currency]})]})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-neutral-600 mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(x.Z,{className:"w-4 h-4 ml-1"}),t.location]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(m.Z,{className:"w-4 h-4 text-yellow-400 fill-current ml-1"}),t.rating," (",t.reviewsCount,")"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsx)(c(),{href:"/".concat(t.locale,"/artisans/").concat(t.artisan.id),className:"text-sm text-primary-400 hover:text-primary-600 font-medium",onClick:e=>e.stopPropagation(),children:t.artisan.name}),t.artisan.verified&&(0,a.jsx)(u.Z,{className:"w-4 h-4 text-blue-500"})]}),(0,a.jsxs)("p",{className:"text-neutral-600 line-clamp-2 text-sm",children:[t.category," • مصنوع يدوياً • ",t.tags.join(" • ")]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[t.isHandmade&&(0,a.jsxs)("span",{className:"flex items-center text-xs text-green-600 bg-green-50 px-2 py-1 rounded-full",children:[(0,a.jsx)(h.Z,{className:"w-3 h-3 ml-1"}),"مصنوع يدوياً"]}),t.isLimited&&(0,a.jsxs)("span",{className:"flex items-center text-xs text-orange-600 bg-orange-50 px-2 py-1 rounded-full",children:[(0,a.jsx)(p.Z,{className:"w-3 h-3 ml-1"}),"متاح عدد محدود"]})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsxs)("button",{onClick:handleAddToCart,disabled:!t.inStock,className:"px-4 py-2 rounded-sharp text-sm font-medium transition-all ".concat(t.inStock?"btn-primary":"bg-neutral-200 text-neutral-400 cursor-not-allowed"),children:[(0,a.jsx)(f.Z,{className:"w-4 h-4 ml-1"}),t.inStock?"أضف للسلة":"غير متاح"]})})]})]})]})})}):(0,a.jsx)(g.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-8},className:"card-product group cursor-pointer ".concat(s),onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),children:(0,a.jsxs)(c(),{href:"/".concat(t.locale,"/products/").concat(t.id),className:"block",children:[(0,a.jsxs)("div",{className:"relative aspect-[4/5] bg-neutral-200 rounded-soft mb-4 overflow-hidden",children:[(0,a.jsx)(r(),{src:t.images[y],alt:t.name,fill:!0,className:"object-cover transition-transform duration-500 group-hover:scale-110",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",onLoad:()=>C(!1)}),P&&(0,a.jsx)("div",{className:"absolute inset-0 bg-neutral-200 animate-pulse rounded-soft"}),(0,a.jsxs)("div",{className:"absolute top-3 left-3 flex flex-col gap-2",children:[t.isNew&&(0,a.jsx)(g.E.span,{initial:{scale:0},animate:{scale:1},className:"bg-primary-400 text-white px-2 py-1 rounded-full text-xs font-medium",children:"جديد"}),t.isFeatured&&(0,a.jsx)("span",{className:"bg-secondary-400 text-white px-2 py-1 rounded-full text-xs font-medium",children:"مميز"}),t.isBestseller&&(0,a.jsx)("span",{className:"bg-yellow-500 text-white px-2 py-1 rounded-full text-xs font-medium",children:"الأكثر مبيعاً"}),Z>0&&(0,a.jsxs)("span",{className:"bg-red-500 text-white px-2 py-1 rounded-full text-xs font-medium",children:["-",Z,"%"]})]}),(0,a.jsxs)("div",{className:"absolute top-3 right-3 flex flex-col gap-2 transition-all duration-300 ".concat(N?"opacity-100 translate-x-0":"opacity-0 translate-x-4"),children:[(0,a.jsx)("button",{onClick:handleLike,className:"p-2 rounded-full transition-all ".concat(b?"bg-red-500 text-white scale-110":"bg-white/90 text-neutral-600 hover:bg-red-500 hover:text-white"),children:(0,a.jsx)(o.Z,{className:"w-4 h-4 ".concat(b?"fill-current":"")})}),i&&(0,a.jsx)("button",{className:"p-2 bg-white/90 text-neutral-600 hover:bg-primary-400 hover:text-white rounded-full transition-all",children:(0,a.jsx)(d.Z,{className:"w-4 h-4"})})]}),t.images.length>1&&(0,a.jsx)("div",{className:"absolute bottom-3 left-1/2 transform -translate-x-1/2 flex gap-1",children:t.images.map((e,t)=>(0,a.jsx)("button",{onMouseEnter:()=>handleImageHover(t),className:"w-2 h-2 rounded-full transition-all ".concat(t===y?"bg-white scale-125":"bg-white/50 hover:bg-white/75")},t))}),t.inStock&&t.stockCount&&t.stockCount<=5&&(0,a.jsxs)("div",{className:"absolute bottom-3 right-3 bg-orange-500 text-white px-2 py-1 rounded-full text-xs font-medium",children:["متبقي ",t.stockCount]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-xs text-primary-600 bg-primary-50 px-2 py-1 rounded-full font-medium",children:t.category}),(0,a.jsx)("div",{className:"flex items-center gap-1",children:t.artisan.verified&&(0,a.jsx)(u.Z,{className:"w-4 h-4 text-blue-500",title:"حرفي معتمد"})})]}),(0,a.jsx)("h3",{className:"font-heading font-semibold text-lg text-neutral-800 line-clamp-2 group-hover:text-primary-600 transition-colors",children:t.name}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c(),{href:"/".concat(t.locale,"/artisans/").concat(t.artisan.id),className:"text-sm text-primary-400 hover:text-primary-600 font-medium transition-colors",onClick:e=>e.stopPropagation(),children:t.artisan.name}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(m.Z,{className:"w-3 h-3 text-yellow-400 fill-current ml-1"}),(0,a.jsx)("span",{className:"text-xs text-neutral-500",children:t.artisan.rating})]})]}),(0,a.jsxs)("div",{className:"flex items-center text-xs text-neutral-500",children:[(0,a.jsx)(x.Z,{className:"w-3 h-3 ml-1"}),t.location]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"flex items-center",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,a.jsx)(m.Z,{className:"w-4 h-4 ".concat(s<Math.floor(t.rating)?"text-yellow-400 fill-current":"text-neutral-300")},s))}),(0,a.jsxs)("span",{className:"text-sm text-neutral-600",children:[t.rating," (",t.reviewsCount,")"]})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:t.tags.slice(0,3).map(e=>(0,a.jsx)("span",{className:"text-xs text-neutral-500 bg-neutral-100 px-2 py-1 rounded-full",children:e},e))}),(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"text-xl font-bold text-primary-800",children:[formatPrice(t.price)," ",t.currency]}),t.originalPrice&&(0,a.jsxs)("div",{className:"text-sm text-neutral-400 line-through",children:[formatPrice(t.originalPrice)," ",t.currency]})]})}),(0,a.jsxs)("button",{onClick:handleAddToCart,disabled:!t.inStock,className:"w-full mt-4 flex items-center justify-center gap-2 py-3 px-4 rounded-sharp font-medium transition-all ".concat(t.inStock?"bg-primary-400 text-white hover:bg-primary-500 active:scale-95":"bg-neutral-200 text-neutral-400 cursor-not-allowed"),children:[(0,a.jsx)(f.Z,{className:"w-5 h-5"}),t.inStock?"أضف للسلة":"غير متاح"]})]})]})})}},7883:function(e,t,s){"use strict";s.r(t),s.d(t,{Button:function(){return m},buttonVariants:function(){return x}});var a=s(7437),l=s(2265),i=s(6061),r=s(7042),n=s(4769);function cn(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,n.m6)((0,r.W)(t))}var c=s(6264),o=s(1396),d=s.n(o);let x=(0,i.j)("inline-flex items-center justify-center rounded-sharp font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary-400 text-white hover:bg-primary-500 focus-visible:ring-primary-400",destructive:"bg-red-500 text-white hover:bg-red-600 focus-visible:ring-red-500",outline:"border border-neutral-300 bg-white text-neutral-700 hover:bg-neutral-50 hover:text-neutral-800 focus-visible:ring-primary-400",secondary:"bg-neutral-100 text-neutral-700 hover:bg-neutral-200 focus-visible:ring-neutral-400",ghost:"text-neutral-600 hover:bg-neutral-100 hover:text-neutral-800 focus-visible:ring-primary-400",link:"text-primary-400 underline-offset-4 hover:underline focus-visible:ring-primary-400",success:"bg-green-500 text-white hover:bg-green-600 focus-visible:ring-green-500",warning:"bg-yellow-500 text-white hover:bg-yellow-600 focus-visible:ring-yellow-500"},size:{default:"h-12 px-6 py-3 text-base",sm:"h-9 px-4 py-2 text-sm",lg:"h-14 px-8 py-4 text-lg",xl:"h-16 px-10 py-5 text-xl",icon:"h-12 w-12","icon-sm":"h-9 w-9","icon-lg":"h-14 w-14"}},defaultVariants:{variant:"default",size:"default"}}),m=(0,l.forwardRef)((e,t)=>{let{className:s,variant:i,size:r,asChild:n=!1,loading:o=!1,loadingText:m,leftIcon:u,rightIcon:h,children:p,disabled:f,...g}=e,v=f||o,b=(0,a.jsxs)(a.Fragment,{children:[o&&(0,a.jsx)(c.Z,{className:"mr-2 h-4 w-4 animate-spin"}),!o&&u&&(0,a.jsx)("span",{className:"ml-2 -mr-2",children:u}),o?m||"جارِ التحميل...":p,!o&&h&&(0,a.jsx)("span",{className:"mr-2 -ml-2",children:h})]}),j=cn(x({variant:i,size:r,className:s}),o&&"cursor-wait","default"===i&&"hover:brightness-110 active:scale-[0.98]","outline"===i&&"hover:border-primary-400 hover:text-primary-600");return n&&(0,l.isValidElement)(p)?l.cloneElement(p,{className:cn(j,p.props.className),...g,...p.props}):g.href?(0,a.jsx)(d(),{href:g.href,className:j,ref:t,...g,children:b}):(0,a.jsx)("button",{className:j,ref:t,disabled:v,...g,children:b})});m.displayName="Button"}},function(e){e.O(0,[326,757,971,472,744],function(){return e(e.s=3813)}),_N_E=e.O()}]);